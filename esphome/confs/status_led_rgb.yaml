esphome:
  name: atom_s3_status_led
  friendly_name: Atom S3 Status LED

logger:
api:
  on_disconnect:
    then:
      - light.turn_on:
          id: led
          red: 1.0
          green: 1.0
          blue: 0.0
          brightness: 1.0
          effect: fast_pulse

ota:

wifi:
  ssid: "jouw_wifi_naam"
  password: "jouw_wifi_wachtwoord"
  on_disconnect:
    then:
      - light.turn_on:
          id: led
          red: 1.0
          green: 0.0
          blue: 0.0
          brightness: 1.0
          effect: fast_pulse
  ap:
    on_enable:
      then:
        - light.turn_on:
            id: led
            red: 1.0
            green: 1.0
            blue: 1.0
            brightness: 1.0
            effect: slow_pulse

light:
  - platform: neopixelbus
    type: GRB
    variant: WS2812
    pin: GPIO35
    num_leds: 1
    name: "Status LED"
    id: led
    method: ESP32_RMT
    effects:
      - pulse:
          name: slow_pulse
          transition_length: 1s
          update_interval: 2s
      - pulse:
          name: fast_pulse
          transition_length: 500ms
          update_interval: 1s

on_boot:
  priority: -100
  then:
    - light.turn_on:
        id: led
        red: 1.0
        green: 1.0
        blue: 1.0
        brightness: 1.0
        effect: none

text_sensor:
  - platform: copy
    source_id: status_operation
    id: status_operation_monitor
    internal: true
    on_value:
      then:
        - lambda: |-
            if (x == "heating") {
              id(led).turn_on({
                red: 1.0, green
